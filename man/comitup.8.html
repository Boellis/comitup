<!DOCTYPE html>
<html>
<head>
  <meta http-equiv='content-type' value='text/html;charset=utf8'>
  <meta name='generator' value='Ronn/v0.7.3 (http://github.com/rtomayko/ronn/tree/0.7.3)'>
  <title>comitup(8) - Manage wifi connections on headless, unconnected systems</title>
  <style type='text/css' media='all'>
  /* style: man */
  body#manpage {margin:0}
  .mp {max-width:100ex;padding:0 9ex 1ex 4ex}
  .mp p,.mp pre,.mp ul,.mp ol,.mp dl {margin:0 0 20px 0}
  .mp h2 {margin:10px 0 0 0}
  .mp > p,.mp > pre,.mp > ul,.mp > ol,.mp > dl {margin-left:8ex}
  .mp h3 {margin:0 0 0 4ex}
  .mp dt {margin:0;clear:left}
  .mp dt.flush {float:left;width:8ex}
  .mp dd {margin:0 0 0 9ex}
  .mp h1,.mp h2,.mp h3,.mp h4 {clear:left}
  .mp pre {margin-bottom:20px}
  .mp pre+h2,.mp pre+h3 {margin-top:22px}
  .mp h2+pre,.mp h3+pre {margin-top:5px}
  .mp img {display:block;margin:auto}
  .mp h1.man-title {display:none}
  .mp,.mp code,.mp pre,.mp tt,.mp kbd,.mp samp,.mp h3,.mp h4 {font-family:monospace;font-size:14px;line-height:1.42857142857143}
  .mp h2 {font-size:16px;line-height:1.25}
  .mp h1 {font-size:20px;line-height:2}
  .mp {text-align:justify;background:#fff}
  .mp,.mp code,.mp pre,.mp pre code,.mp tt,.mp kbd,.mp samp {color:#131211}
  .mp h1,.mp h2,.mp h3,.mp h4 {color:#030201}
  .mp u {text-decoration:underline}
  .mp code,.mp strong,.mp b {font-weight:bold;color:#131211}
  .mp em,.mp var {font-style:italic;color:#232221;text-decoration:none}
  .mp a,.mp a:link,.mp a:hover,.mp a code,.mp a pre,.mp a tt,.mp a kbd,.mp a samp {color:#0000ff}
  .mp b.man-ref {font-weight:normal;color:#434241}
  .mp pre {padding:0 4ex}
  .mp pre code {font-weight:normal;color:#434241}
  .mp h2+pre,h3+pre {padding-left:0}
  ol.man-decor,ol.man-decor li {margin:3px 0 10px 0;padding:0;float:left;width:33%;list-style-type:none;text-transform:uppercase;color:#999;letter-spacing:1px}
  ol.man-decor {width:100%}
  ol.man-decor li.tl {text-align:left}
  ol.man-decor li.tc {text-align:center;letter-spacing:4px}
  ol.man-decor li.tr {text-align:right;float:right}
  </style>
</head>
<!--
  The following styles are deprecated and will be removed at some point:
  div#man, div#man ol.man, div#man ol.head, div#man ol.man.

  The .man-page, .man-decor, .man-head, .man-foot, .man-title, and
  .man-navigation should be used instead.
-->
<body id='manpage'>
  <div class='mp' id='man'>

  <div class='man-navigation' style='display:none'>
    <a href="#NAME">NAME</a>
    <a href="#SYNOPSIS">SYNOPSIS</a>
    <a href="#DESCRIPTION">DESCRIPTION</a>
    <a href="#Options">Options</a>
    <a href="#D-Bus-Interface">D-Bus Interface</a>
    <a href="#COPYRIGHT">COPYRIGHT</a>
    <a href="#SEE-ALSO">SEE ALSO</a>
  </div>

  <ol class='man-decor man-head man head'>
    <li class='tl'>comitup(8)</li>
    <li class='tc'></li>
    <li class='tr'>comitup(8)</li>
  </ol>

  <h2 id="NAME">NAME</h2>
<p class="man-name">
  <code>comitup</code> - <span class="man-whatis">Manage wifi connections on headless, unconnected systems</span>
</p>

<h2 id="SYNOPSIS">SYNOPSIS</h2>

<p><code>comitup [options]</code></p>

<h2 id="DESCRIPTION">DESCRIPTION</h2>

<p>The <strong>comitup</strong> service provides a means to establish a connection between a
computer and a wifi access point, in the case where wifi is the only means
available to access the computer.</p>

<p>On startup, the service will attempt to connect to wifi using established
<a class="man-ref" href="http://linux.die.net/man/8/networkmanager">networkmanager<span class="s">(8)</span></a> connections. If this is not successful, <strong>comitup</strong> will
establish a wifi hotspot with the name <em>comitup-&lt;nnnn&gt;</em>, where &lt;nnnn&gt; is
a persistent 4-digit number.</p>

<p>While the hotspot is active, a <a class="man-ref" href="comitup-web.8.html">comitup-web<span class="s">(8)</span></a> service is available to manage
connecting to an access point.</p>

<p>If two wifi interfaces are available, the hotspot will remain active on the
first interface, and the internet connection will be made on the second.
Otherwise, the hotspot will be replaced with the internet connection.</p>

<p>In all states, <a class="man-ref" href="http://man.cx/avahi-daemon(8)">avahi-daemon<span class="s">(8)</span></a> is used to publish the mdns host name
<em>comitup-&lt;nnnn&gt;.local</em>, making the web service accessible
as e.g. <em>http://comitup-1234.local</em>, for systems supporting Zeroconf. For other
systems, a <em>comitup</em> Workstation entry is published which is visible to Zeroconf
browsing applications, allowing the IP address to be manually determined.
The web service address is likely <em>http://10.42.0.1</em>.</p>

<p><strong>comitup</strong> logs to <em>/var/log/comitup.log</em>.</p>

<h2 id="Options">Options</h2>

<ul>
<li><em>-h</em>, <em>--help</em> - Print help and exit</li>
<li><em>-c</em>, <em>--check</em> - Check the wifi device configuration and exit</li>
</ul>


<h2 id="D-Bus-Interface">D-Bus Interface</h2>

<p><strong>Comitup</strong> provides a D-Bus object which claims the name
<em>com.github.davesteele.comitup</em> on the path
<em>/com/github/davesteele/comitup</em>, supporting the
interface <em>com.github.davesteele.comitup</em>. The interface includes the
following methods.</p>

<ul>
<li><p><em>get_info()</em></p>

<p>Input: None</p>

<p>Output: <em>DICT_ENTRY</em></p>

<p>Return information about the current <strong>Comitup</strong> service. The keys are
as follows:</p>

<pre><code>* _version_ - The package version.

* _basename_ - The currently configured basename (default **comitup**).

* _id_ - The unique random numeric id associated with the service instance.

* _hostnames_ - A list of host names that are published for the service
  IP address.
</code></pre></li>
<li><p><em>access_points()</em></p>

<p>Input: None</p>

<p>Output: Array of <em>DICT_ENTRY</em></p>

<p>Return a list of visible access points. This is represented as an array
of D-Bus <em>DICT_ENTRY</em>. Each <em>DICT_ENTRY</em> contains strings associated with
the following keys, <em>ssid</em>, <em>strength</em> (0 to 100) and <em>security</em>
(<em>encrypted</em> or <em>unencrypted</em>).</p></li>
<li><p><em>state()</em></p>

<p>Input: None</p>

<p>Output: <em>state</em>, <em>connection</em></p>

<p>This returns strings for the current <strong>comitup</strong> state (either
<strong>HOTSPOT</strong>, <strong>CONNECTING</strong>, or <strong>CONNECTED</strong>) and the <em>ssid</em> name for
the current connection on the wifi device.</p></li>
<li><p><em>connect()</em></p>

<p>Input: <em>ssid</em>, <em>password</em></p>

<p>Output: None</p>

<p>Delete any existing connection for <em>ssid</em>, create a new connection, and
attempt to connect to it. The password may be a zero length string if
not needed.</p></li>
<li><p><em>delete_connection()</em></p>

<p>Input: <em>ssid</em></p>

<p>Output: None</p>

<p>Delete the connection for <em>ssid</em>. The system will not be able to reconnect
using this connection.</p></li>
</ul>


<h2 id="COPYRIGHT">COPYRIGHT</h2>

<p>Comitup is Copyright (C) 2016-2017 David Steele &lt;steele@debian.org&gt;.</p>

<h2 id="SEE-ALSO">SEE ALSO</h2>

<p><a class="man-ref" href="comitup-conf.5.html">comitup-conf<span class="s">(5)</span></a>, <a class="man-ref" href="comitup-cli.1.html">comitup-cli<span class="s">(1)</span></a>, <a class="man-ref" href="comitup-web.8.html">comitup-web<span class="s">(8)</span></a></p>


  <ol class='man-decor man-foot man foot'>
    <li class='tl'></li>
    <li class='tc'>November 2017</li>
    <li class='tr'>comitup(8)</li>
  </ol>

  </div>
</body>
</html>
